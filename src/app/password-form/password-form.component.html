<form [formGroup]="form">
    <div class="form-group">
        <label for="oldPassword">Old Password</label>
        <input
            formControlName="oldPassword" 
            id = "oldPassword"
            type="password" 
            class="form-control">
        <div *ngIf = "oldPassword.pending && oldPassword.touched">Confirming old password...</div>
        <div *ngIf = "oldPassword.touched && oldPassword.errors?.['shouldMatchOld']"
            class = "alert alert-danger">
            Old password is invalid
        </div>
    </div>
    <div class = "form-group" formGroupName = "newPasswordGroup">
        <div class="form-group">
            <label for="newPassword">New Password</label>
            <input 
                formControlName = "newPassword"
                id = "newPassword"
                type="password" 
                class="form-control">
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input 
                formControlName = "confirmPassword"
                id = "confirmPassword"
                type="password" 
                class="form-control">
        </div>
        <div *ngIf= "newPasswordGroup.errors?.['shouldMatchPasswords'] && 
            (newPassword?.touched && confirmPassword?.touched)"
            class = "cross-validation-error-message alert alert-danger"> 
            Passwords do not match </div>
    </div>
    <button class="btn btn-primary" type = "submit" disabled="!form.valid" >Change Password</button>
    <div *ngIf="form.errors?.['required']">Fields are required</div>
</form>